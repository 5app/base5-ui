import {Meta, Story, Canvas, ArgsTable} from '@storybook/addon-docs/blocks';

import Status from './';
import Button from '../Button';

<Meta title="Components/Status" component={Status} />

# Status

```jsx
import Status from 'base5-ui/Status';
```

Any changes to the textual content of this component are reported to users of screen readers. It's equivalent to a div with the following props:

```jsx
<div role="status" aria-live="polite" aria-relevant="additions text" />
```

Setting `<Status role="alert" />` will set `aria-live="assertive"` for you, mirroring the default `aria-live` alert behaviour when none is defined. However, all props can be overridden.

## Examples

<Canvas>
	<Story name="Status">
		{props => {
			const [showConfirmation, setShowConfirmation] =
				React.useState(false);
			return (
				<>
					<Button
						isActive={showConfirmation}
						onClick={() => setShowConfirmation(v => !v)}
					>
						Click me
					</Button>
					<Status {...props}>
						{showConfirmation &&
							'Congrats, you have clicked the button! This message will be read out by screen readers.'}
					</Status>
				</>
			);
		}}
	</Story>
</Canvas>

## Usage note

Make sure that the `Status` component is always rendered – even when it's empty – before you update its contents. If the element is added alongside its content, screen readers will **not** announce it!

The example below would not work:

```jsx
{
	showConfirmation && <Status>This status will NOT BE announced :(</Status>;
}
```

## Props

<ArgsTable of={Status} />
