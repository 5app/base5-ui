{"version":3,"sources":["webpack:///../src/useFocusOnMount/README.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","__position","__code","__scope","Playground","Props","Button","Stack","Dialog","React","hasDialog","setHasDialog","spacing","icon","isActive","onClick","prev","onClose","isMDXComponent"],"mappings":"qiBAUO,IAAMA,EAAe,Q,gNAE5B,IAKMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,MAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAK5E,iBAAQ,CACN,GAAM,mBADR,mBAGA,gMACA,oIACA,8NAA6M,mBAAGC,WAAW,KAAQ,CAC/N,KAAQ,yCACP,0BAAYA,WAAW,KAAvB,yBAFwM,SAA7M,+EAGA,iBAAQ,CACN,GAAM,WADR,WAGA,4DAA2C,0BAAYA,WAAW,KAAvB,UAA3C,yBACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,iBADZ,0+BAiCL,YAAC,IAAD,CAAYC,WAAY,EAAGC,OAAQ,yXAA8XC,SAAO,GACtaL,QACAH,kBACAS,eACAC,UACAC,WACAC,UACAC,YAPsa,gBAQtab,IARsa,EAStaH,eATsa,GAUraO,QAAQ,eACb,WAAM,MACkCU,YAAe,GAA1CC,EADP,KACkBC,EADlB,KAEA,OAAO,YAAC,IAAD,CAAOC,QAAQ,IAAIb,QAAQ,SACtC,YAAC,IAAD,CAAQc,KAAK,WAAWC,SAAUJ,EAAWK,QAAS,kBAAMJ,GAAa,SAAAK,GAAI,OAAKA,MAAOjB,QAAQ,UAAjG,yBAGCW,GAAa,YAAC,IAAD,CAAQO,QAAS,kBAAMN,GAAa,IAAQZ,QAAQ,eAIlE,iBAAQ,CACN,GAAM,WADR,WAGA,iBAAQ,CACN,GAAM,sBADR,sBAGA,0HACA,uBAAK,sBAAMC,WAAW,OAAU,CAC5B,UAAa,iBADZ,8JAUL,iBAAQ,CACN,GAAM,2CADR,gBAEoB,0BAAYA,WAAW,MAAvB,WAFpB,QAEiF,0BAAYA,WAAW,MAAvB,mBACjF,8HAA6G,0BAAYA,WAAW,KAAvB,WAA7G,QAAyK,0BAAYA,WAAW,KAAvB,kBAAzK,yFACA,kKACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,iBADZ,+LAYL,iBAAQ,CACN,GAAM,sBADR,sBAGA,mEAAkD,0BAAYA,WAAW,KAAvB,WAAlD,YACA,uBAAK,sBAAMA,WAAW,OAAU,CAC5B,UAAa,iBADZ,gM,8MAgBTJ,EAAWsB,gBAAiB","file":"component---src-use-focus-on-mount-readme-mdx-2e5f3c43eabae5adbe64.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/circleci/repo/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground, Props } from 'docz';\nimport Button from '../Button';\nimport Stack from '../Stack';\nimport Dialog from './DemoExample';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n\n    <h1 {...{\n      \"id\": \"usefocusonmount\"\n    }}>{`useFocusOnMount`}</h1>\n    <p>{`A hook that will focus a chosen element when the component it is in is mounted, and crucially, will move focus back to where it was before when the component unmounts.`}</p>\n    <p>{`This is useful for moving focus into non-modal dialogs (for modal dialogs, please use the Modal component).`}</p>\n    <p>{`Note: This hook can only restore focus to the previously focused element if that element has not been unmounted or replaced by the dialog. If your design requires this, you can additionally use the `}<a parentName=\"p\" {...{\n        \"href\": \"src-use-return-to-init-effect-readme\"\n      }}><inlineCode parentName=\"a\">{`useReturnToInitEffect`}</inlineCode>{` hook`}</a>{` in the parent component to explicitly set focus when the dialog is closed.`}</p>\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <p>{`See below for a live example of the `}<inlineCode parentName=\"p\">{`Dialog`}</inlineCode>{` component in action.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`function Dialog({onClose}) {\n    const buttonRef = useFocusOnMount();\n    return (\n        <Box role=\"dialog\" aria-labelledby=\"heading\" p=\"s\" background=\"shaded\">\n            <Stack spacing=\"s\">\n                <Text as=\"h2\" bold size=\"l\" id=\"heading\">\n                    Do you really want to hrmpf!?\n                </Text>\n                <InlineList spacing=\"s\">\n                    <Button\n                        ref={buttonRef}\n                        icon=\"x\"\n                        size=\"medium\"\n                        onClick={onClose}\n                    >\n                        Nah\n                    </Button>\n                    <Button\n                        icon=\"ok\"\n                        color=\"primary\"\n                        size=\"medium\"\n                        onClick={onClose}\n                    >\n                        Sure\n                    </Button>\n                </InlineList>\n            </Stack>\n        </Box>\n    );\n}\n`}</code></pre>\n    <Playground __position={0} __code={'() => {\\n  const [hasDialog, setHasDialog] = React.useState(false)\\n  return (\\n    <Stack spacing=\\\"s\\\">\\n      <Button\\n        icon=\\\"eye-open\\\"\\n        isActive={hasDialog}\\n        onClick={() => setHasDialog(prev => !prev)}\\n      >\\n        Show non-modal dialog\\n      </Button>\\n      {hasDialog && <Dialog onClose={() => setHasDialog(false)} />}\\n    </Stack>\\n  )\\n}'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      Props,\n      Button,\n      Stack,\n      Dialog,\n      DefaultLayout,\n      _frontmatter\n    }} mdxType=\"Playground\">\n\t{() => {\n        const [hasDialog, setHasDialog] = React.useState(false);\n        return <Stack spacing=\"s\" mdxType=\"Stack\">\n\t\t\t\t<Button icon=\"eye-open\" isActive={hasDialog} onClick={() => setHasDialog(prev => !prev)} mdxType=\"Button\">\n\t\t\t\t\tShow non-modal dialog\n\t\t\t\t</Button>\n\t\t\t\t{hasDialog && <Dialog onClose={() => setHasDialog(false)} mdxType=\"Dialog\" />}\n\t\t\t</Stack>;\n      }}\n    </Playground>\n    <h2 {...{\n      \"id\": \"options\"\n    }}>{`Options`}</h2>\n    <h3 {...{\n      \"id\": \"using-your-own-ref\"\n    }}>{`Using your own ref`}</h3>\n    <p>{`Instead of attaching the ref returned by the hook, you can also pass in your own ref to the hook.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`function Dialog() {\n    const buttonRef = React.useRef();\n    useFocusOnMount({ref: buttonRef});\n    return (\n        // Your Dialog code\n    )\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"hooking-into-onfocus-and-onrestorefocus\"\n    }}>{`Hooking into `}<inlineCode parentName=\"h3\">{`onFocus`}</inlineCode>{` and `}<inlineCode parentName=\"h3\">{`onRestoreFocus`}</inlineCode></h3>\n    <p>{`If you need more control over what happens when focus is (re-)set, you can pass in your own callbacks `}<inlineCode parentName=\"p\">{`onFocus`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`onRestoreFocus`}</inlineCode>{`. These will be called after focus was set. They are called with the focused element.`}</p>\n    <p>{`This can be useful if, for example, you want to set focus to an input field, and not just move focus to it, but also select its contents.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`function Dialog() {\n    const inputRef = useFocusOnMount({\n        onFocus: focusedElement => focusedElement.select(),\n    });\n\n    return (\n        // Your Dialog code\n    )\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"disabling-the-hook\"\n    }}>{`Disabling the hook`}</h3>\n    <p>{`You can disable the hook by passing in the `}<inlineCode parentName=\"p\">{`disable`}</inlineCode>{` option:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`function Dialog({focusInputOnMount}) {\n    const inputRef = useFocusOnMount({\n        disable: focusInputOnMount,\n    });\n\n    return (\n        // Your Dialog code\n    )\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}